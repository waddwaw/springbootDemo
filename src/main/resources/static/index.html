<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>录入学生信息系统</title>
    <!--<script src="http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js"></script>-->
    <script src="js/jquery_1.10.2.js"></script>
    <script src="js/baseJs.js"></script>
</head>
<body>
学生姓名: <input  id="name" type="text"/> ><br>
学生性别: <input id="sex" type="text"/><br>
学生电话: <input id="nameTel" type="text"/><br>
家长姓名: <input id="parentsName" type="text"/><br>
家长电话: <input id="parentsNameTel" type="text"/><br>
学生微信: <input id="wechat" type="text"/><br>
学生Q Q: <input id="qq" type="text"/><br>
学生地址: <input id="address" type="text"/><br>
学生专业: <input id="professional" type="text"/><br>
证件号码: <input id="nameIdentityCard" type="text"/><br>
<input id="submit" type="submit">

<script>
    $("#submit").click(function() {

        var name = $("#name").val();
        var sex = $("#sex").val();
        var nameTel = $("#nameTel").val();
        var parentsName = $("#parentsName").val();
        var parentsNameTel = $("#parentsNameTel").val();
        var wechat = $("#wechat").val();
        var qq = $("#qq").val();
        var address = $("#address").val();
        var professional = $("#professional").val();
        var nameIdentityCard = $("#nameIdentityCard").val();

        if (name.length < 1 || sex.length < 1 || nameTel.length < 1 || parentsName.length < 1 || parentsNameTel.length < 1
                || qq.length < 1 || wechat.length<1 || address.length < 1 || professional.length < 1 || nameIdentityCard.length < 1) {
            alert("请录入完整信息");
            return;
        }

        if (!nameTel.match(/^(((1[3-8]{1}[0-9]{1}))+\d{8})$/)) {
            alert("学生手机号码格式不正确！");
            return ;
        }

        if (!parentsNameTel.match(/^(((1[3-8]{1}[0-9]{1}))+\d{8})$/)) {
            alert("家长手机号码格式不正确！");
            return ;
        }

        $.ajax({
            type: "POST",
            url: getRootPath()+"/postStudents",
            contentType: "application/json",
            data: JSON.stringify({
                name: name,
                sex: sex,
                nameTel: nameTel,
                parentsName: parentsName,
                parentsNameTel: parentsNameTel,
                wechat:wechat,
                qq: qq,
                address: address,
                professional: professional,
                nameIdentityCard: nameIdentityCard
            }),
            success: function (success) {
                alert(success);
            },
            error :function (error) {
                alert(error);
            }
        });
    })
</script>
</body>
</html>